import{f as _,h as $,i as J,r as s,j as e,R as Z,T as r,m as Q,k as X,B as h,p as G}from"./index-TH8YGKRz.js";import{V as K,a as ee}from"./Visibility-B8j3ksI8.js";import{C as te}from"./CheckCircle-D5ylFM8e.js";import{r as oe}from"./createSvgIcon-B0Pm_6cI.js";import{C as se}from"./Close-PlGpALEU.js";import{D as re,a as ne,b as ie,c as ae}from"./DialogTitle-CKHsR478.js";import{I as H}from"./IconButton-BAp8iDOQ.js";import{D as B,u as le}from"./Divider-7QTrz6EV.js";import{F as L}from"./FormControlLabel-Cn76TRpS.js";import{C as O}from"./Checkbox-Ck6fmr8t.js";import{B as T}from"./Button-CJZqiG46.js";import{A as ce}from"./Alert-DkG2QiTi.js";import{T as k}from"./TextField-Du34Z7EL.js";import{I as de}from"./InputAdornment-Cgg0GFqY.js";import{L as E}from"./Link-BVXwCpMA.js";import"./createSvgIcon-1GfyKPJS.js";import"./useControlled-BLQOo7Av.js";import"./Paper-Mdtt8qvf.js";import"./Menu-CzX3FVwN.js";import"./resolveComponentProps-CAz9EWAT.js";import"./getThemeProps-DA88l0eV.js";import"./Stack-DgAhbvWb.js";import"./useThemeProps-vG6R4auE.js";import"./SwitchBase-GCTxqK2a.js";import"./useSlot-B20WKvL2.js";var y={},q;function me(){if(q)return y;q=1;var m=_();Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=m(oe()),x=$();return y.default=(0,u.default)((0,x.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"RadioButtonUnchecked"),y}var ue=me();const fe=J(ue),he=[{title:"Overview",body:'These Terms and Conditions ("Terms") govern your access to and use of our website, products, and services (collectively, the "Services"). By using the Services, you agree to these Terms. If you do not agree, do not use the Services.'},{title:"Acceptance of Terms",body:"By creating an account or accessing the Services, you confirm that you are at least the age of majority in your jurisdiction and that you have the authority to enter into these Terms."},{title:"Accounts & Security",body:"You are responsible for maintaining the confidentiality of your account credentials and for all activities under your account. Notify us immediately of any unauthorized use."},{title:"Permitted Use",body:"You may use the Services for lawful, personal, or internal business purposes in compliance with these Terms and applicable laws."},{title:"Prohibited Conduct",body:"Do not: (1) reverse engineer or interfere with the Services; (2) upload malicious code or content; (3) infringe on intellectual property or privacy rights; (4) misuse, overload, or attempt to gain unauthorized access to the Services."},{title:"Intellectual Property",body:"All content, features, and functionality in the Services are owned by us or our licensors and are protected by intellectual property laws. Your use grants you a limited, non-exclusive, non-transferable license."},{title:"Privacy",body:"Your use of the Services is also governed by our Privacy Policy. By using the Services, you consent to our data practices described there."},{title:"Termination",body:"We may suspend or terminate your access to the Services at any time for any conduct that violates these Terms or harms other users or the Services."},{title:"Disclaimers & Liability",body:'The Services are provided "as is" and "as available." We disclaim all warranties to the maximum extent permitted by law. To the fullest extent allowed, we are not liable for any indirect, incidental, or consequential damages.'},{title:"Changes to Terms",body:"We may update these Terms from time to time. Continued use of the Services after changes take effect indicates acceptance of the revised Terms."},{title:"Contact",body:"If you have questions about these Terms, please contact support."}],xe=({open:m,onClose:u,onAgree:x})=>{const[a,g]=s.useState(!1),b=()=>{g(!1),x()},l=()=>{g(!1),u()};return e.jsxs(re,{open:m,onClose:l,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3,p:0,bgcolor:"#fff"}},children:[e.jsxs(ne,{sx:{fontWeight:800,fontSize:28,color:"#222",pb:1.5,pt:3,px:4,display:"flex",alignItems:"center",justifyContent:"space-between",fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif'},children:["Terms and Conditions",e.jsx(H,{onClick:l,sx:{color:"#222"},children:e.jsx(se,{})})]}),e.jsx(B,{sx:{mb:0}}),e.jsxs(ie,{sx:{px:4,pt:3,pb:1},children:[he.map(c=>e.jsxs(Z.Fragment,{children:[e.jsx(r,{sx:{color:"#222",fontSize:14,fontWeight:700,mb:.75,lineHeight:1.4,textAlign:"left",fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif'},children:c.title}),e.jsx(r,{sx:{color:"#222",fontSize:14,fontWeight:400,mb:2,whiteSpace:"pre-line",lineHeight:1.55,textAlign:"left",hyphens:"auto",wordBreak:"break-word",fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif'},children:c.body})]},c.title)),e.jsx(L,{control:e.jsx(O,{checked:a,onChange:c=>g(c.target.checked),sx:{p:.5,ml:.5,mt:-.3}}),label:e.jsx(r,{sx:{fontSize:16,color:"#222",fontWeight:400,fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif'},children:"I have read and agree to these Terms and Conditions"}),sx:{alignItems:"flex-start",".MuiFormControlLabel-label":{mt:.2}}})]}),e.jsx(B,{}),e.jsxs(ae,{sx:{px:4,py:3,bgcolor:"#f9f9f9",borderBottomLeftRadius:12,borderBottomRightRadius:12},children:[e.jsx(T,{variant:"contained",disabled:!a,onClick:l,sx:{bgcolor:"#e0e0e0",color:"#bdbdbd",fontWeight:700,fontSize:18,borderRadius:2,px:4,py:1.2,boxShadow:"none",textTransform:"none",mr:2,"&:hover":{bgcolor:"#e0e0e0"}},children:"Cancel"}),e.jsx(T,{variant:"contained",disabled:!a,onClick:b,sx:{bgcolor:a?"#526794":"#e0e0e0",color:a?"#fff":"#bdbdbd",fontWeight:700,fontSize:18,borderRadius:2,px:4,py:1.2,boxShadow:"none",textTransform:"none","&:hover":{bgcolor:a?"#526794":"#e0e0e0"}},children:"Agree"})]})]})},pe=()=>{const m=Q(),u=le(m.breakpoints.down("sm")),[x,a]=s.useState(!1),[g,b]=s.useState(!1),[l,c]=s.useState(!1),[S,w]=s.useState(!1),[o,U]=s.useState({name:"",email:"",password:""}),[A,p]=s.useState(""),[I,W]=s.useState(!1),z=X(),j=s.useRef(null),C=s.useRef(null),P=[{label:"At least 8 characters",test:t=>t.length>=8},{label:"At least one uppercase letter (A-Z)",test:t=>/[A-Z]/.test(t)},{label:"At least one number (0-9)",test:t=>/\d/.test(t)},{label:"At least one special character (!@#$%^&*)",test:t=>/[!@#$%^&*]/.test(t)}],v=P.every(t=>t.test(o.password));s.useEffect(()=>{const t=i=>{j.current&&C.current&&!j.current.contains(i.target)&&!C.current.contains(i.target)&&w(!1)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]),s.useEffect(()=>{if(v&&S){const t=setTimeout(()=>w(!1),1500);return()=>clearTimeout(t)}},[v,S]);const R=t=>{U({...o,[t.target.name]:t.target.value})},M=async t=>{const d=await fetch("http://localhost:3000/api/auth/resend-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),n=await d.json();if(!d.ok)throw new Error(n.error||"Failed to resend verification email");return n},Y=async t=>{if(t.preventDefault(),!l){p("Please agree to the Terms and Conditions");return}if(!v){p("Please ensure your password meets all requirements");return}p(""),W(!0);try{const d=await fetch("http://localhost:3000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),n=await d.json();if(!d.ok){if(d.status===400&&n.error&&n.error.includes("Validation failed"))throw new Error(n.error);if((d.status===409||d.status===400)&&n.error&&(n.error.toLowerCase().includes("already registered")||n.error.toLowerCase().includes("pending verify"))){try{await M(o.email),p("Your email is already registered but not verified. We have resent the verification email. Please check your inbox.")}catch(F){p(F instanceof Error?F.message:"Failed to resend verification email.")}return}throw new Error(n.error||"Registration failed")}z("/login",{state:{message:"Registration successful! Please check your email and verify your account before logging in."}})}catch(i){p(i instanceof Error?i.message:"Registration failed")}finally{W(!1)}},D=t=>{t.preventDefault(),l?c(!1):b(!0)},V=()=>{c(!0),b(!1)},N=()=>{b(!1)},f=l&&v&&o.name&&o.email;return e.jsxs(e.Fragment,{children:[e.jsx(h,{sx:{display:"flex",minHeight:"100vh",bgcolor:"#fff",justifyContent:"center",alignItems:"center",px:{xs:2,sm:3,md:4},py:{xs:2,sm:3},pt:{xs:5,sm:5}},children:e.jsx(h,{sx:{width:"100%",maxWidth:{xs:"100%",sm:440,md:480},display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:e.jsxs(h,{component:"form",onSubmit:Y,sx:{width:"100%",maxWidth:{xs:"100%",sm:380,md:420}},children:[e.jsx(r,{variant:"h4",sx:{fontWeight:800,mb:{xs:1.5,sm:2,md:2.5},color:"#222",textAlign:"center",fontSize:{xs:"22px",sm:"24px",md:"28px"},lineHeight:1.25},children:"Create Account"}),e.jsx(r,{sx:{color:"#6b7280",fontWeight:500,fontSize:{xs:13,sm:14,md:16},mb:{xs:2,sm:2.5,md:3},textAlign:"center",lineHeight:1.4,px:{xs:1,sm:0}},children:"Fill your information below or register with your crudo account"}),A&&e.jsx(ce,{severity:"error",sx:{mb:{xs:2,sm:2.5},fontSize:{xs:14,sm:16}},children:A}),e.jsx(r,{sx:{fontWeight:700,fontSize:{xs:13,sm:14,md:16},mb:{xs:.75,sm:1.25},color:"#222"},children:"Full Name"}),e.jsx(k,{fullWidth:!0,name:"name",placeholder:"Your name",variant:"outlined",value:o.name,onChange:R,required:!0,sx:{mb:{xs:1.75,sm:2.25},borderRadius:2,"& .MuiOutlinedInput-root":{borderRadius:2,fontSize:{xs:13,sm:14},height:{xs:44,sm:52}}}}),e.jsx(r,{sx:{fontWeight:700,fontSize:{xs:13,sm:14,md:16},mb:{xs:.75,sm:1.25},color:"#222"},children:"Email"}),e.jsx(k,{fullWidth:!0,name:"email",type:"email",placeholder:"Your email",variant:"outlined",value:o.email,onChange:R,required:!0,sx:{mb:{xs:1.75,sm:2.25},borderRadius:2,"& .MuiOutlinedInput-root":{borderRadius:2,fontSize:{xs:13,sm:14},height:{xs:44,sm:52}}}}),e.jsx(r,{sx:{fontWeight:700,fontSize:{xs:13,sm:14,md:16},mb:{xs:.75,sm:1.25},color:"#222"},children:"Password"}),e.jsxs(h,{ref:j,sx:{position:"relative"},children:[e.jsx(k,{fullWidth:!0,name:"password",placeholder:"Your password",variant:"outlined",type:x?"text":"password",value:o.password,onChange:R,onFocus:()=>w(!0),required:!0,sx:{mb:1,borderRadius:2,"& .MuiOutlinedInput-root":{borderRadius:2,fontSize:{xs:13,sm:14},height:{xs:44,sm:52}}},InputProps:{endAdornment:e.jsx(de,{position:"end",children:e.jsx(H,{onClick:()=>a(t=>!t),edge:"end",size:u?"small":"medium",children:x?e.jsx(K,{}):e.jsx(ee,{})})})}}),S&&o.password&&e.jsxs(h,{ref:C,sx:{position:"absolute",top:"100%",left:0,right:0,zIndex:10,mt:1,p:{xs:1.5,sm:2},bgcolor:"#f8f9fa",borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",maxWidth:{xs:"100%",sm:"none"}},children:[e.jsx(r,{sx:{fontWeight:600,fontSize:{xs:12,sm:13},mb:{xs:.75,sm:1},color:"#222"},children:"Password requirements:"}),P.map((t,i)=>e.jsxs(h,{sx:{display:"flex",alignItems:"center",mb:{xs:.5,sm:.75},gap:1},children:[t.test(o.password)?e.jsx(te,{sx:{color:"#2950DA",fontSize:{xs:16,sm:18},flexShrink:0}}):e.jsx(fe,{sx:{color:"#d1d5db",fontSize:{xs:16,sm:18},flexShrink:0}}),e.jsx(r,{sx:{fontSize:{xs:12,sm:13},color:t.test(o.password)?"#2950DA":"#6b7280",fontWeight:t.test(o.password)?600:400,lineHeight:1.3},children:t.label})]},i))]})]}),e.jsx(L,{control:e.jsx(O,{checked:l,onClick:D,onChange:D,sx:{p:{xs:.5,sm:.75},mr:0,alignSelf:"flex-start",mt:-.6,ml:.5,"& .MuiSvgIcon-root":{fontSize:{xs:18,sm:20}}}}),label:e.jsxs(r,{sx:{fontSize:{xs:13,sm:14,md:15},color:"#222",fontWeight:400,lineHeight:1.4},children:["I agree with"," ",e.jsx(E,{href:"#",underline:"always",sx:{color:"#3269b8",fontWeight:500,cursor:"pointer"},onClick:t=>t.preventDefault(),children:"Privacy Policy and Terms and Conditions"})]}),sx:{mb:{xs:2.5,sm:3,md:3.5},alignItems:"flex-start",".MuiFormControlLabel-label":{mt:0}}}),e.jsx(T,{type:"submit",variant:"contained",fullWidth:!0,disabled:!f||I,sx:{bgcolor:f?"#2950DA":"#e5e7eb",color:f?"#fff":"#9ca3af",fontWeight:700,fontSize:{xs:15,sm:16,md:18},borderRadius:2,py:{xs:1.25,sm:1.5,md:1.75},mb:{xs:2,sm:2.5,md:3},boxShadow:f?"0 4px 12px rgba(41, 80, 218, 0.3)":"none",textTransform:"none",height:{xs:44,sm:52,md:56},transition:"all 0.2s ease-in-out","&:hover":{bgcolor:f?"#1e40af":"#e5e7eb",boxShadow:f?"0 6px 20px rgba(41, 80, 218, 0.4)":"none",transform:f?"translateY(-1px)":"none"},"&:disabled":{bgcolor:"#e5e7eb",color:"#9ca3af",opacity:.6,cursor:"not-allowed",transform:"none"}},children:I?"Signing up...":"Sign up"}),e.jsxs(r,{sx:{color:"#8a8a8a",fontSize:{xs:13,sm:14,md:16},fontWeight:400,textAlign:"center",lineHeight:1.4},children:["Already have an account?"," ",e.jsx(E,{href:"#",underline:"none",sx:{color:"#2950DA",fontWeight:700,fontSize:{xs:13,sm:14,md:16},cursor:"pointer","&:hover":{color:"#1e40af",textDecoration:"underline"}},onClick:()=>z("/login"),children:"Log in"})]})]})})}),e.jsx(xe,{open:g,onClose:N,onAgree:V})]})},Me=()=>{const[m]=G(),u=m.get("token")||"";return e.jsx(h,{sx:{minHeight:"100vh",width:"100%",overflowX:"hidden",position:"relative"},children:e.jsx(pe,{inviteToken:u})})};export{Me as default};
