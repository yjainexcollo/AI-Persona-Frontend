import{k as l,p as m,r as i,j as e,B as h,C as u,T as n}from"./index-TH8YGKRz.js";import{C as d}from"./Container-DiviWFfv.js";import{P as x}from"./Paper-Mdtt8qvf.js";import"./useThemeProps-vG6R4auE.js";import"./getThemeProps-DA88l0eV.js";const C=()=>{const r=l(),[a]=m(),[c,p]=i.useState(!0),s=i.useRef(!1);return i.useEffect(()=>{if(s.current)return;s.current=!0,(async()=>{try{const t=a.get("token");if(!t){setTimeout(()=>{r("/email-verification-error")},2e3);return}const o=await fetch(`http://localhost:3000/api/auth/verify-email?token=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}}),f=await o.json();if(o.ok)r("/email-verification-success");else throw new Error(f.message||"Verification failed")}catch{setTimeout(()=>{r("/email-verification-error")},2e3)}})()},[a,r]),c?e.jsx(d,{maxWidth:"sm",children:e.jsx(h,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#f7f8fa"},children:e.jsxs(x,{elevation:0,sx:{p:6,textAlign:"center",borderRadius:3,bgcolor:"#fff",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",maxWidth:500,width:"100%"},children:[e.jsx(u,{sx:{mb:3}}),e.jsx(n,{variant:"h6",sx:{fontWeight:600,color:"#222",mb:2},children:"Verifying your email..."}),e.jsx(n,{variant:"body2",sx:{color:"#666"},children:"Please wait while we verify your email address."})]})})}):null};export{C as default};
