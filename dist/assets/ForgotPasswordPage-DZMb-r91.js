import{r,k as p,j as e,B as o,T as t}from"./index-TH8YGKRz.js";import{T as u}from"./TextField-Du34Z7EL.js";import{B as i}from"./Button-CJZqiG46.js";import{L as b}from"./Link-BVXwCpMA.js";import"./useControlled-BLQOo7Av.js";import"./resolveComponentProps-CAz9EWAT.js";import"./Menu-CzX3FVwN.js";import"./Paper-Mdtt8qvf.js";import"./createSvgIcon-1GfyKPJS.js";const j=()=>{const[n,f]=r.useState(""),[m,s]=r.useState(!1),[a,l]=r.useState(""),[c,d]=r.useState(!1),h=p(),g=async()=>{l(""),d(!0);try{await fetch("http://localhost:3000/api/auth/request-password-reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})}),s(!0)}catch{l("Something went wrong. Please try again.")}finally{d(!1)}};return e.jsx(o,{sx:{display:"flex",minHeight:"100vh",bgcolor:"#fff",justifyContent:"center",alignItems:"center"},children:e.jsx(o,{sx:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",px:4,maxWidth:480},children:e.jsx(o,{sx:{width:"100%",maxWidth:370},children:m?e.jsxs(e.Fragment,{children:[e.jsx(t,{variant:"h5",sx:{fontWeight:800,mb:3,color:"#222"},children:"Password recovery"}),e.jsx(t,{sx:{fontWeight:700,fontSize:18,color:"#222",mb:1.5},children:"Check your email"}),e.jsxs(t,{sx:{color:"#6b7280",fontWeight:500,fontSize:16,mb:.5},children:["If an account with ",e.jsx("b",{children:n||"email@email.com"})," exists, a password reset link has been sent."]}),e.jsx(t,{sx:{color:"#6b7280",fontWeight:500,fontSize:16,mb:3},children:"Please check your inbox and follow the instructions to reset your password."}),e.jsxs(o,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:4},children:[e.jsx(b,{component:"button",underline:"none",sx:{color:"#222",fontWeight:700,fontSize:16,cursor:"pointer",p:0},onClick:()=>s(!1),children:"Resend e-mail"}),e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(t,{sx:{color:"#6b7280",fontWeight:500,fontSize:16},children:"Back to"}),e.jsx(i,{onClick:()=>h("/login"),sx:{color:"#2950DA",fontWeight:700,fontSize:16,textTransform:"none",p:0,minWidth:0},children:"Login"})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(t,{variant:"h5",sx:{fontWeight:800,mb:3,color:"#222"},children:"Forgot Password"}),e.jsx(t,{sx:{color:"#6b7280",fontWeight:500,fontSize:16,mb:3},children:"No worries, we'll send a recovery link to your email."}),e.jsx(t,{sx:{fontWeight:700,fontSize:16,mb:1,color:"#222"},children:"Email"}),e.jsx(u,{fullWidth:!0,placeholder:"Enter email",variant:"outlined",value:n,onChange:x=>f(x.target.value),sx:{mb:3,borderRadius:2,"& .MuiOutlinedInput-root":{borderRadius:2}},error:!!a,helperText:a}),e.jsx(i,{variant:"contained",fullWidth:!0,sx:{bgcolor:"#526794",color:"#fff",fontWeight:700,fontSize:18,borderRadius:2,py:1.5,mb:3,boxShadow:"none",textTransform:"none","&:hover":{bgcolor:"#526794"},"&:disabled":{bgcolor:"#e5e7eb",color:"#9ca3af"}},onClick:g,disabled:!n||c,children:c?"Checking...":"Send a recovery link"}),e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1,mt:2},children:[e.jsx(t,{sx:{color:"#6b7280",fontWeight:500,fontSize:16},children:"Back to"}),e.jsx(i,{onClick:()=>h("/login"),sx:{color:"#2950DA",fontWeight:700,fontSize:16,textTransform:"none",p:0,minWidth:0},children:"Login"})]})]})})})})},E=()=>e.jsx(j,{});export{E as default};
